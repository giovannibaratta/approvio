<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="650" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #333; }
      .header { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #333; }
      .label { font-family: Arial, sans-serif; font-size: 11px; fill: #333; }
      .small-label { font-family: Arial, sans-serif; font-size: 9px; fill: #666; }
      .entity-label { font-family: Arial, sans-serif; font-size: 12px; font-weight: bold; fill: #333; }
      .user { fill: #e8f5e8; stroke: #388e3c; stroke-width: 1.5; }
      .agent { fill: #fff3e0; stroke: #f57c00; stroke-width: 1.5; }
      .group { fill: #fce4ec; stroke: #c2185b; stroke-width: 1.5; }
      .role { fill: #fff8e1; stroke: #ffa000; stroke-width: 1; }
      .group-chip { fill: #e1f5fe; stroke: #0277bd; stroke-width: 1; }
      .role-chip { fill: #fff3e0; stroke: #f57c00; stroke-width: 1; }
    </style>
  </defs>

  <!-- Title -->
  <text x="450" y="30" text-anchor="middle" class="title">Users, Groups &amp; Role Assignments</text>

  <!-- Users Section -->
  <text x="150" y="70" text-anchor="middle" class="header">Users</text>
  
  <!-- User: Alice -->
  <rect x="50" y="80" width="200" height="80" class="user" rx="8"/>
  <text x="150" y="105" text-anchor="middle" class="entity-label">Alice (User)</text>
  <text x="60" y="125" class="small-label">Group Memberships:</text>
  
  <!-- Alice's Group Chips -->
  <rect x="70" y="135" width="60" height="18" class="group-chip" rx="9"/>
  <text x="100" y="147" text-anchor="middle" class="small-label">DevTeam</text>
  <rect x="140" y="135" width="60" height="18" class="group-chip" rx="9"/>
  <text x="170" y="147" text-anchor="middle" class="small-label">Approvers</text>

  <!-- User: Bob -->
  <rect x="50" y="180" width="200" height="80" class="user" rx="8"/>
  <text x="150" y="205" text-anchor="middle" class="entity-label">Bob (User)</text>
  <text x="60" y="225" class="small-label">Group Memberships:</text>
  
  <!-- Bob's Group Chips -->
  <rect x="70" y="235" width="60" height="18" class="group-chip" rx="9"/>
  <text x="100" y="247" text-anchor="middle" class="small-label">DevTeam</text>
  <rect x="140" y="235" width="60" height="18" class="group-chip" rx="9"/>
  <text x="170" y="247" text-anchor="middle" class="small-label">Managers</text>

  <!-- Agent -->
  <text x="150" y="300" text-anchor="middle" class="header">Agents</text>
  <rect x="50" y="310" width="200" height="80" class="agent" rx="8"/>
  <text x="150" y="335" text-anchor="middle" class="entity-label">CI-Bot (Agent)</text>
  <text x="60" y="355" class="small-label">Group Memberships:</text>
  
  <!-- Agent's Group Chips -->
  <rect x="70" y="365" width="60" height="18" class="group-chip" rx="9"/>
  <text x="100" y="377" text-anchor="middle" class="small-label">Approvers</text>

  <!-- Groups Section -->
  <text x="450" y="70" text-anchor="middle" class="header">Groups &amp; Their Roles</text>
  
  <!-- Group: DevTeam -->
  <rect x="320" y="80" width="260" height="80" class="group" rx="8"/>
  <text x="450" y="105" text-anchor="middle" class="entity-label">DevTeam Group</text>
  <text x="330" y="125" class="small-label">Assigned Roles:</text>
  
  <!-- DevTeam Role Chips -->
  <rect x="340" y="135" width="90" height="18" class="role-chip" rx="9"/>
  <text x="385" y="147" text-anchor="middle" class="small-label">Workflow Creator</text>
  <rect x="440" y="135" width="70" height="18" class="role-chip" rx="9"/>
  <text x="475" y="147" text-anchor="middle" class="small-label">Space Access</text>

  <!-- Group: Approvers -->
  <rect x="320" y="180" width="260" height="80" class="group" rx="8"/>
  <text x="450" y="205" text-anchor="middle" class="entity-label">Approvers Group</text>
  <text x="330" y="225" class="small-label">Assigned Roles:</text>
  
  <!-- Approvers Role Chips -->
  <rect x="340" y="235" width="60" height="18" class="role-chip" rx="9"/>
  <text x="370" y="247" text-anchor="middle" class="small-label">Approver</text>
  <rect x="410" y="235" width="50" height="18" class="role-chip" rx="9"/>
  <text x="435" y="247" text-anchor="middle" class="small-label">Auditor</text>

  <!-- Group: Managers -->
  <rect x="320" y="280" width="260" height="80" class="group" rx="8"/>
  <text x="450" y="305" text-anchor="middle" class="entity-label">Managers Group</text>
  <text x="330" y="325" class="small-label">Assigned Roles:</text>
  
  <!-- Managers Role Chips -->
  <rect x="340" y="335" width="85" height="18" class="role-chip" rx="9"/>
  <text x="382" y="347" text-anchor="middle" class="small-label">Space Manager</text>
  <rect x="435" y="335" width="75" height="18" class="role-chip" rx="9"/>
  <text x="472" y="347" text-anchor="middle" class="small-label">User Manager</text>

  <!-- Roles Section -->
  <text x="750" y="70" text-anchor="middle" class="header">Role Definitions</text>
  
  <!-- Role Examples -->
  <rect x="650" y="80" width="200" height="60" class="role" rx="6"/>
  <text x="750" y="100" text-anchor="middle" class="entity-label">Approver Role</text>
  <text x="660" y="115" class="small-label">• Vote on workflows</text>
  <text x="660" y="130" class="small-label">• View approval history</text>

  <rect x="650" y="150" width="200" height="60" class="role" rx="6"/>
  <text x="750" y="170" text-anchor="middle" class="entity-label">Space Manager Role</text>
  <text x="660" y="185" class="small-label">• Manage space resources</text>
  <text x="660" y="200" class="small-label">• Control space access</text>

  <rect x="650" y="220" width="200" height="60" class="role" rx="6"/>
  <text x="750" y="240" text-anchor="middle" class="entity-label">Workflow Creator Role</text>
  <text x="660" y="255" class="small-label">• Create new workflows</text>
  <text x="660" y="270" class="small-label">• Edit own workflows</text>


  <!-- Legend -->
  <rect x="50" y="450" width="800" height="180" fill="#f9f9f9" stroke="#ddd" stroke-width="1" rx="8"/>
  <text x="450" y="475" text-anchor="middle" class="header">Legend &amp; Explanation</text>
  
  <!-- Legend Items -->
  <rect x="70" y="490" width="15" height="15" class="group-chip" rx="7"/>
  <text x="95" y="502" class="label">Group membership - Shows which groups a user/agent belongs to</text>

  <rect x="70" y="515" width="15" height="15" class="role-chip" rx="7"/>
  <text x="95" y="527" class="label">Role assignment - Shows which roles are assigned to a group</text>

  <text x="70" y="555" class="label">Example: Alice is a member of DevTeam and Approvers groups.</text>
  <text x="70" y="570" class="label">DevTeam group has "Workflow Creator" and "Space Access" roles assigned.</text>
  <text x="70" y="585" class="label">Therefore, Alice inherits those roles through her DevTeam membership.</text>
</svg>